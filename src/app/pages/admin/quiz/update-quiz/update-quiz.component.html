<mat-card>
    <mat-card-header>
        <mat-card-title class="mat-headline-5">Update Quiz Form</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <div class="container-fuild">
            <div class="row">
                <form class="w-full" [formGroup]="formValidation" (ngSubmit)="onSubmit()">
                    <mat-form-field class="col-md-12" appearance="outline">
                        <mat-label>Title</mat-label>
                        <input matInput type="text" formControlName="title">
                        <mat-error
                            *ngIf="formValidation.controls['title'].invalid && formValidation.controls['title'].touched">
                            <span *ngIf="formValidation.controls['title'].hasError('required')">
                                Title is required
                            </span>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-md-12" appearance="outline">
                        <mat-label>Description</mat-label>
                        <textarea matInput #description rows="5" formControlName="description"></textarea>
                        <mat-hint align="end">{{description.value.length}} / 500</mat-hint>
                        <mat-error
                            *ngIf="formValidation.controls['description'].invalid && formValidation.controls['description'].touched">
                            <span *ngIf="formValidation.controls['description'].hasError('maxlength')">
                                Description must be at most 500 characters.
                            </span>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-md-6" appearance="outline">
                        <mat-label>Max marks</mat-label>
                        <input matInput type="number" formControlName="maxMark">
                        <mat-error
                            *ngIf="formValidation.controls['maxMark'].invalid && formValidation.controls['maxMark'].touched">
                            <span *ngIf="formValidation.controls['maxMark'].hasError('required')">
                                Max marks is required
                            </span>
                            <span *ngIf="formValidation.controls['maxMark'].hasError('min')">
                                Max marks must be at least 0
                            </span>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-md-6" appearance="outline">
                        <mat-label>Number of questions</mat-label>
                        <input matInput type="number" formControlName="numberOfQuestion">
                        <mat-error
                            *ngIf="formValidation.controls['numberOfQuestion'].invalid && formValidation.controls['numberOfQuestion'].touched">
                            <span *ngIf="formValidation.controls['numberOfQuestion'].hasError('required')">
                                Number of questions is required
                            </span>
                            <span *ngIf="formValidation.controls['numberOfQuestion'].hasError('notNumber')">
                                Number of questions is invalid value
                            </span>
                            <span *ngIf="formValidation.controls['numberOfQuestion'].hasError('min')">
                                Number of questions must be at least 0
                            </span>
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field class="col-md-12" appearance="outline">
                        <mat-label>Category</mat-label>
                        <mat-select formControlName="categoryId">
                            <mat-option *ngFor="let category of categories" [value]="category.id">
                                {{category.title}}
                            </mat-option>
                        </mat-select>
                        <mat-error
                            *ngIf="formValidation.controls['categoryId'].invalid && formValidation.controls['categoryId'].touched">
                            <span *ngIf="formValidation.controls['categoryId'].hasError('required')">
                                Category is required
                            </span>
                            <span *ngIf="formValidation.controls['categoryId'].hasError('notNumber')">
                                Category is invalid value
                            </span>
                            <span *ngIf="formValidation.controls['categoryId'].hasError('min')">
                                Category must be at least 0
                            </span>
                        </mat-error>
                    </mat-form-field>

                    <mat-slide-toggle class="col-md-12" formControlName="active">Active</mat-slide-toggle>

                    <div class="col-md-12 d-flex justify-content-end gap-1">
                        <a mat-raised-button routerLink="/admin/quizzes" color="accent">Back</a>
                        <button mat-raised-button color="primary" [disabled]="formValidation.invalid">Update</button>
                    </div>
                </form>
            </div>
        </div>

    </mat-card-content>
</mat-card>
